---
trigger: glob
description:
globs: src/**/*.tsx src/**/*.jsx src/**/*.vue
---

# Правила для компонентов интерфейса

## Общие требования

- Всегда отвечай **на русском языке**.
- Компоненты должны быть **функциональными**, без классов.
- Пропсы, состояние и возвращаемые значения строго типизированы.
- Не оставляй временный код: console.log, комментарии-заглушки, мёртвые участки.

## Минимизация useEffect

- По возможности **не используй useEffect**.
- Для запросов к API применяй:
    - React Query / RTK Query / $fetch / существующий клиент проекта.
- Для вычислений используй `useMemo`.
- Для колбэков — `useCallback`.
- Для подписок — `useSyncExternalStore` или кастомный хук.
- Если useEffect всё же нужен:
    - он должен быть чистым;
    - без тяжёлой логики;
    - без запросов напрямую, если в проекте есть React Query/RTK Query.

## Архитектура компонентов

- Не смешивай бизнес-логику с UI.
- Логику, работу с API, состояние домена — выноси в сервисы, хуки или сторы.
- Компоненты должны быть небольшими, читаемыми и легко тестируемыми.

## Производительность

- Избегай тяжёлых вычислений в рендере.
- Применяй мемоизацию только там, где она реально нужна.
- При поддержке фреймворка — используй lazy-loading и code splitting.

## Стиль и структура

- Следуй файловой структуре и соглашениям проекта.
- Имена компонентов, пропсов и файлов — понятные и дружелюбные.
- Если компонент получает много пропсов — подумай о рефакторинге или декомпозиции.

---

## Итог

Компоненты — простые, типизированные, без лишних эффектов и побочных действий. UI остаётся чистым, логика — вынесена наружу.
